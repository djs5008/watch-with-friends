!function(t){var e={};function s(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=e,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=7)}([function(t,e,s){"use strict";s.d(e,"a",function(){return n});class n{constructor(){this.state={}}setState(t){this.state={...this.state,...t}}}},function(t,e,s){"use strict";s.d(e,"a",function(){return i});var n=s(0);class i extends n.a{constructor(t){super(),Object.assign(this,t),this.init(t)}init(){throw new Error("init() not implemented!")}}},,,,,,function(t,e,s){"use strict";s.r(e);var n=s(1),i=s(0);class o extends i.a{constructor(){super(),this.setState({element:o.loadElement()}),this.injectElement()}get element(){return this.state.element}static loadElement(){const t=document.createElement("button");t.classList.add("ytp-button"),t.classList.add("wwf-button"),t.setAttribute("id","watch-width-friends"),t.setAttribute("aria-haspopup","true"),t.setAttribute("aria-label","Watch With Friends!");const e=chrome.runtime.getURL("/img/followers.svg");return t.innerHTML=`<div class="button-icon" style="background: no-repeat url(${e}) 50%;" />`,t}injectElement(){const t=this.state.element,e=document.getElementsByClassName("ytp-right-controls")[0];e.insertBefore(t,e.children[0])}}class r extends i.a{constructor(){super(),this.setState({element:this.loadElement(),visible:!1})}startSession(){alert("test")}get element(){return this.state.element}loadElement(){const t=document.getElementById("movie_player"),e=(t=>{const e=document.createElement("div");return e.classList.add("ytp-popup"),e.classList.add("wwf-menu"),e.setAttribute("data-layer","6"),e.appendChild(t),e})((t=>{const e=document.createElement("div");return e.classList.add("ytp-panel"),e.classList.add("panel"),e.appendChild(t),e})(((t,e)=>{const s=document.createElement("div");return s.classList.add("ytp-panel-menu"),s.classList.add("inner"),s.setAttribute("role","menu"),s.appendChild(t),s.appendChild(e),s})((()=>{const t=document.createElement("div");return t.classList.add("title"),t.innerHTML="<h2>Watch With Friends!</h2>",t})(),(()=>{const t=document.createElement("div");return t.classList.add("ytp-menuitem"),t.classList.add("start-button"),t.setAttribute("aria-haspopup","true"),t.setAttribute("role","menuitem"),t.setAttribute("tabindex","0"),t.onclick=this.startSession,t.innerHTML='<div class="ytp-menuitem-content">Start Session</div>',t})())));return t.appendChild(e),e}toggleMenu(){this.state.visible?this.hideMenu():this.showMenu(),this.renderMenu()}showMenu(){this.setState({visible:!0})}hideMenu(){this.setState({visible:!1})}renderMenu(){const t=this.state.element;this.state.visible?t.classList.add("visible"):t.classList.remove("visible")}}class a extends i.a{constructor(){super()}showTooltip(){setTimeout(()=>{const t=document.getElementsByClassName("ytp-tooltip")[0],e=document.getElementsByClassName("ytp-tooltip-text")[0],s=document.getElementsByClassName("ytp-tooltip-bg")[0];t&&e&&s&&(e.innerHTML="Watch With Friends!",t.removeAttribute("aria-hidden"),t.classList.add("ytp-tooltip"),t.classList.add("ytp-bottom"),t.classList.remove("ytp-preview"),t.setAttribute("style","max-width: 300px; top: calc(100% - 7.5rem); left: calc(100% - 28rem); display: inherit;"),s.setAttribute("style","width: 158px; height: 90px; display: none;"))},100)}hideTooltip(){const t=document.getElementsByClassName("ytp-tooltip")[0],e=document.getElementsByClassName("ytp-tooltip-text")[0],s=document.getElementsByClassName("ytp-tooltip-bg")[0];t&&e&&(t.setAttribute("style","max-width: 300px; top: 0px; left: 0px; display: none;"),s.setAttribute("style","width: 158px; height: 90px; "))}}class l extends n.a{init(){this.setState({button:new o,menu:new r,tooltip:new a}),this.setupTooltipHandlers(),this.setupMenuHandlers()}get button(){return this.state.button.element}get menu(){return this.state.menu.element}get tooltip(){return this.state.tooltip}setupTooltipHandlers(){this.button.onmouseenter=(()=>{this.tooltip.showTooltip()}),this.button.onmouseleave=(()=>{this.tooltip.hideTooltip()})}setupMenuHandlers(){this.button.onclick=(()=>{this.state.menu.toggleMenu()})}}new l}]);
//# sourceMappingURL=content.js.map
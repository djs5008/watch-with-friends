!function(t){var e={};function n(s){if(e[s])return e[s].exports;var i=e[s]={i:s,l:!1,exports:{}};return t[s].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(s,i,function(e){return t[e]}.bind(null,i));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=7)}([function(t,e,n){"use strict";n.d(e,"a",function(){return s});class s{constructor(){this.state={}}setState(t){this.state={...this.state,...t}}}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var s=n(0);class i extends s.a{constructor(t){super(),Object.assign(this,t),this.init(t)}init(){throw new Error("init() not implemented!")}}},,,,,,function(t,e,n){"use strict";n.r(e);var s=n(1),i=n(0);class o extends i.a{constructor(){super(),this.setState({element:o.loadElement()}),this.injectElement()}get element(){return this.state.element}static loadElement(){const t=document.createElement("button");t.classList.add("ytp-button"),t.setAttribute("id","watch-width-friends"),t.setAttribute("aria-haspopup","true"),t.setAttribute("aria-label","Watch With Friends!"),t.setAttribute("style","position: relative;");const e=chrome.runtime.getURL("followers.svg");return t.innerHTML=`<div style="width: 60%; height: 60%; margin: auto; background: no-repeat url(${e}) 50%;" />`,t}injectElement(){const t=this.state.element,e=document.getElementsByClassName("ytp-right-controls")[0];e.insertBefore(t,e.children[0])}}class r extends i.a{constructor(){super(),this.setState({element:this.loadElement(),visible:!1})}startSession(){alert("test")}get element(){return this.state.element}loadElement(){const t=document.getElementById("movie_player"),e=(t=>{const e=document.createElement("div");return e.classList.add("ytp-popup"),e.setAttribute("data-layer","6"),e.setAttribute("style","opacity: 0;"),e.appendChild(t),e})((t=>{const e=document.createElement("div");return e.classList.add("ytp-panel"),e.setAttribute("style","width: 90%; height: 90%; position: relative;"),e.appendChild(t),e})(((t,e)=>{const n=document.createElement("div");return n.classList.add("ytp-panel-menu"),n.setAttribute("role","menu"),n.setAttribute("style","height: 90%;"),n.appendChild(t),n.appendChild(e),n})((()=>{const t=document.createElement("div");return t.setAttribute("style","text-align: center; position: absolute; width: 100%;"),t.innerHTML="<h2>Watch With Friends!</h2>",t})(),(()=>{const t=document.createElement("div");return t.classList.add("ytp-menuitem"),t.setAttribute("aria-haspopup","true"),t.setAttribute("role","menuitem"),t.setAttribute("tabindex","0"),t.setAttribute("style","display: inherit; position: relative; margin: 25% auto auto;"),t.onclick=this.startSession,t.innerHTML='<div class="ytp-menuitem-content">Start Session</div>',t})())));return t.appendChild(e),e}toggleMenu(){this.state.visible?this.hideMenu():this.showMenu(),this.renderMenu()}showMenu(){this.setState({visible:!0})}hideMenu(){this.setState({visible:!1})}renderMenu(){const t=this.state.element;let e=0,n="none";this.state.visible&&(e=1,n="unset");const s=`\n        display: flex; \n        justify-content: center; \n        align-items: center; \n        width: 100%; \n        height: 100%; \n        z-index: 50;\n        pointer-events: ${n};\n        position: relative;\n        opacity: ${e};\n        transition: opacity 0.2s linear;\n      `;t.setAttribute("style",s)}}class l extends i.a{constructor(){super()}showTooltip(){setTimeout(()=>{const t=document.getElementsByClassName("ytp-tooltip")[0],e=document.getElementsByClassName("ytp-tooltip-text")[0],n=document.getElementsByClassName("ytp-tooltip-bg")[0];t&&e&&n&&(e.innerHTML="Watch With Friends!",t.removeAttribute("aria-hidden"),t.classList.add("ytp-tooltip"),t.classList.add("ytp-bottom"),t.classList.remove("ytp-preview"),t.setAttribute("style","max-width: 300px; top: calc(100% - 7.5rem); left: calc(100% - 28rem); display: inherit;"),n.setAttribute("style","width: 158px; height: 90px; display: none;"))},100)}hideTooltip(){const t=document.getElementsByClassName("ytp-tooltip")[0],e=document.getElementsByClassName("ytp-tooltip-text")[0],n=document.getElementsByClassName("ytp-tooltip-bg")[0];t&&e&&(t.setAttribute("style","max-width: 300px; top: 0px; left: 0px; display: none;"),n.setAttribute("style","width: 158px; height: 90px; "))}}class a extends s.a{init(){this.setState({button:new o,menu:new r,tooltip:new l}),this.setupTooltipHandlers(),this.setupMenuHandlers()}get button(){return this.state.button.element}get menu(){return this.state.menu.element}get tooltip(){return this.state.tooltip}setupTooltipHandlers(){this.button.onmouseenter=(()=>{this.tooltip.showTooltip()}),this.button.onmouseleave=(()=>{this.tooltip.hideTooltip()})}setupMenuHandlers(){this.button.onclick=(()=>{this.state.menu.toggleMenu()})}}new a}]);
//# sourceMappingURL=content.js.map